(function(e){function t(t){for(var n,a,o=t[0],l=t[1],c=t[2],d=0,f=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,o=1;o<i.length;o++){var l=i[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=i[0]))}return e}var n={},s={app:0},r=[];function a(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=n,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(i,n,function(t){return e[t]}.bind(null,n));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/OS-Memory-Management/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"01ab":function(e,t,i){},"034f":function(e,t,i){"use strict";i("85ec")},"513a":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],a=(i("034f"),i("2877")),o={},l=Object(a["a"])(o,s,r,!1,null,null,null),c=l.exports,u=i("8c4f"),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"MemoryInterface"},[i("el-container",[i("el-aside",{attrs:{width:"220px"}},[i("Condition",{ref:"condition"})],1),i("el-main",[i("MemoryBlock",{ref:"memoryBlock",staticClass:"blockflex"}),i("InstrForm",{ref:"instrForm",staticClass:"formflex",attrs:{align:"center"}}),i("el-button",{attrs:{type:"primary",round:""},on:{click:e.executeInstruction}},[i("i",{staticClass:"el-icon-edit"}),e._v("单步执行")]),i("el-divider",{attrs:{direction:"vertical"}}),i("el-button",{attrs:{type:"primary",round:""},on:{click:e.click_multiple}},[i("i",{staticClass:"el-icon-edit"}),e._v("多步执行")]),i("el-divider",{attrs:{direction:"vertical"}}),i("el-button",{attrs:{type:"primary",round:""},on:{click:e.reload}},[i("i",{staticClass:"el-icon-refresh"}),e._v("刷新")])],1)],1)],1)},f=[],v=(i("a434"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"condition"},[i("br"),i("div",{staticClass:"borders"},[i("div",[i("div",[e._v("置换算法")]),i("br"),i("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.value_al,callback:function(t){e.value_al=t},expression:"value_al"}},e._l(e.options_al,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),i("br"),i("div",[i("div",[e._v("执行方式")]),i("br"),i("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.value_ex,callback:function(t){e.value_ex=t},expression:"value_ex"}},e._l(e.options_ex,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),i("br")]),i("el-divider",[i("i",{staticClass:"el-icon-time"})]),i("div",{staticClass:"borders"},[i("div",[e._v("总指令条数")]),i("br"),i("div",[e._v(e._s(e.instructions)+"条")]),i("el-divider",[i("i",{staticClass:"el-icon-collection-tag"})]),i("div",[e._v("已执行指令条数")]),i("br"),i("div",[e._v(e._s(e.ex_instructions)+"条")]),i("el-divider",[i("i",{staticClass:"el-icon-collection-tag"})]),i("div",[e._v("当前正在执行指令")]),i("br"),i("div",[e._v(e._s(e.cur_instructions))])],1),i("el-divider",[i("i",{staticClass:"el-icon-time"})]),i("div",{staticClass:"borders"},[i("div",[e._v("缺页次数")]),i("br"),i("div",[e._v(e._s(e.missing_page))]),i("el-divider",[i("i",{staticClass:"el-icon-collection-tag"})]),i("div",[e._v("缺页率")]),i("br"),i("div",[e._v(e._s(e.missing_page_rate)+"%")])],1)],1)}),h=[],p={name:"condition",data:function(){return{options_al:[{value:"al_1",label:"FIFO"},{value:"al_2",label:"RLU"}],options_ex:[{value:"ex_1",label:"顺序执行"},{value:"ex_2",label:"随机执行"},{value:"ex_3",label:"混合执行"}],value_al:"al_1",value_ex:"ex_1",instructions:320,ex_instructions:0,cur_instructions:0,missing_page:0,missing_page_rate:0,nextInstruction:[],kind:[0,0,0]}},methods:{random:function(e,t){return Math.floor(Math.random()*(t-e))+e},addmissingPage:function(){this.missing_page++},addexInstructions:function(){this.ex_instructions++},computeMissingRate:function(){0==this.ex_instructions?this.missing_page_rate=0:this.missing_page_rate=this.missing_page/this.ex_instructions*100},updatecurInstruction:function(e){var t=this.getNextInstruction(e);return-1==t?(console.log("指令执行结束了"),!1):(this.cur_instructions=t,!0)},getNextInstruction:function(e){if(this.nextInstruction[e]=!0,this.ex_instructions>=320)return-1;if("ex_1"==this.value_ex)return e+1;if("ex_2"==this.value_ex)while(1){var t=this.random(0,320);if(0==this.nextInstruction[t])return t}else if("ex_3"==this.value_ex)while(1){var i=this.random(0,3);if(console.log(i),0==i&&this.kind[0]<=80){if(0==e)continue;var n=this.random(0,e);return this.kind[0]++,n}if(1==i&&this.kind[1]<=160){this.kind[1]++;var s=(e+1)%320;return s}if(2==i&&this.kind[2]<=80){var r=this.random(e,320);return this.kind[2]++,r}}},randInstruction:function(){for(var e=0;e<320;e++);},initInstruction:function(){for(var e=0;e<320;e++)this.nextInstruction[e]=!1}},mounted:function(){this.initInstruction()}},m=p,_=(i("7a32"),Object(a["a"])(m,v,h,!1,null,"45a44dd8",null)),g=_.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"memoryBlock"},[i("div",{staticClass:"borders"},e._l(e.page,(function(t,n){return i("div",{key:n,staticClass:"block"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("i",{staticClass:"el-icon-box"}),i("br"),i("span",[e._v("page")]),t.flag?i("span",[e._v(" "+e._s(t.value)+" ")]):e._e()]),t.flag?i("div",e._l(10,(function(n,s){return i("div",{key:s,ref:"nodes",refInFor:!0,staticClass:"text item"},[e._v(" "+e._s(10*t.value+n-1)+" ")])})),0):e._e()])],1)})),0)])},x=[],y={data:function(){return{page:[{value:-1,flag:!1,id:0},{value:-1,flag:!1,id:1},{value:-1,flag:!1,id:2},{value:-1,flag:!1,id:3}],color:[]}},methods:{loadingPage:function(e,t){this.page[e].value=t,this.page[e].flag=!0},initColor:function(){for(var e=0;e<320;e++)this.color.push(!1)},setColor:function(e,t){var i=e%10,n=10*t+i,s=this.$refs.nodes;s&&s[n]&&(console.log(s[n]),s[n].style.backgroundColor="rgb(247, 118, 12)",setTimeout((function(){s[n].style.backgroundColor="rgb(158, 235, 218)"}),1e3))}}},k=y,C=(i("cbd1"),Object(a["a"])(k,b,x,!1,null,"43e4ca7e",null)),I=C.exports,O=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"instrForm"},[i("el-table",{staticStyle:{width:"50%"},attrs:{height:"200px",data:e.tableData,stripe:""}},[i("el-table-column",{attrs:{prop:"instruction",label:"指令",width:"150"}}),i("el-table-column",{attrs:{prop:"address",label:"地址",width:"150"}}),i("el-table-column",{attrs:{prop:"missPage",label:"缺页",width:"150"}}),i("el-table-column",{attrs:{prop:"passPage",label:"换出页"}})],1)],1)},w=[],$={data:function(){return{tableData:[]}},methods:{addInstruction:function(e,t,i,n){this.tableData.push({instruction:e,address:t,missPage:i,passPage:n})}}},P=$,M=Object(a["a"])(P,O,w,!1,null,null,null),j=M.exports,F={name:"MemoryInterface",components:{Condition:g,MemoryBlock:I,InstrForm:j},data:function(){return{sequence:[{index:"al_1",value:[]},{index:"al_2",value:[]}],OK:!1}},methods:{setTimer:function(){this.timer=setInterval(this.executeInstruction,100)},click_multiple:function(){this.setTimer()},reload:function(){this.$router.go(0)},executeInstruction:function(){if(1!=this.OK){var e=this.$refs.condition.cur_instructions,t=this.$refs.memoryBlock.page,i=Math.floor(e/10),n=!1,s=[-1,-1];s=this.missingThePage(i,t),s[0]<0&&(s=this.replacePage(i,t),n=!0),this.updateSequence(s[0]),this.execute(e,s[0]),this.addRecord(e,n,s),this.updateCondition(n,e)}},missingThePage:function(e,t){for(var i=0;i<t.length;i++)if(t[i].value==e)return[i,-1];return[-1,-1]},replacePage:function(e,t){for(var i=[-1,-1],n=0;n<t.length;n++)if(0==t[n].flag)return this.$refs.memoryBlock.loadingPage(n,e),[n,-1];for(var s=this.$refs.condition.value_al,r=0;r<this.sequence.length;r++)if(this.sequence[r].index==s)return i=this.replacement(e,this.sequence[r].value),this.sequence[r].value[0]=-1,i},replacement:function(e,t){var i=t[0],n=this.$refs.memoryBlock.page[i].value;return this.$refs.memoryBlock.loadingPage(i,e),[i,n]},FIFO:function(e){for(var t=this.sequence[0].value,i=0,n=0;n<t.length;n++)if(t[n]==e){i=1;break}0==i&&(t.length<4||t.splice(0,1),t.push(e)),this.sequence[0].value=t},LRU:function(e){for(var t=this.sequence[1].value,i=0,n=0;n<t.length;n++)if(t[n]==e){i=1,t.splice(n,1),t.push(e);break}0==i&&(t.length<4||t.splice(0,1),t.push(e)),this.sequence[1].value=t},updateSequence:function(e){this.FIFO(e),this.LRU(e)},addRecord:function(e,t,i){var n=e%10,s=10*i[0]+n,r="false";1==t&&(r="true"),this.$refs.instrForm.addInstruction(e,s,r,i[1])},updateCondition:function(e,t){1==e&&this.$refs.condition.addmissingPage(),this.$refs.condition.addexInstructions(),this.$refs.condition.computeMissingRate();var i=this.$refs.condition.updatecurInstruction(t);0==i&&(this.$notify({title:"成功",message:"指令已经成功执行完成！",type:"success"}),this.OK=!0,clearInterval(this.timer))},execute:function(e,t){1!=this.OK&&this.$refs.memoryBlock.setColor(e,t)}}},q=F,S=(i("699b"),Object(a["a"])(q,d,f,!1,null,"e7eb0a14",null)),B=S.exports;n["default"].use(u["a"]);var T=[{path:"/",name:"MemoryInterface",component:B}],R=new u["a"]({mode:"history",base:"/OS-Memory-Management/",routes:T}),E=R,K=i("2f62");n["default"].use(K["a"]);var D=new K["a"].Store({state:{},mutations:{},actions:{},modules:{}}),L=i("5c96"),U=i.n(L);i("0fae");n["default"].use(U.a),n["default"].config.productionTip=!1,new n["default"]({router:E,store:D,render:function(e){return e(c)}}).$mount("#app")},"699b":function(e,t,i){"use strict";i("513a")},"7a32":function(e,t,i){"use strict";i("e3d7")},"85ec":function(e,t,i){},cbd1:function(e,t,i){"use strict";i("01ab")},e3d7:function(e,t,i){}});
//# sourceMappingURL=app.315d6a78.js.map